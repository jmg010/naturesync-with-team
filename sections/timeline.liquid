{{ 'timeline.css' | asset_url | stylesheet_tag }}
{{ 'base.css' | asset_url | stylesheet_tag }}

<div class="{% unless section.settings.full_width %} page-width{% endunless %}">
  <div class="timeline-container">

    <!-- LEFT COLUMN (HEADING + DESCRIPTION) -->
    <div class="timeline-left">
      <h2 class="inline-heading">
        {% for block in section.blocks %}
          {% if block.type == 'inline_word' %}
            <span style="color: {{ block.settings.color }}">{{ block.settings.text }}</span>
          {% endif %}
        {% endfor %}
      </h2>
      <p class="timeline-intro">{{ section.settings.intro }}</p>
    </div>

    <!-- RIGHT COLUMN (TIMELINE ITEMS) -->
    <div class="timeline-right">
      <div class="vertical-line"></div>

      {% for block in section.blocks %}
        {% if block.type == 'milestone' %}
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
              <h3>{{ block.settings.title }}</h3>
              <div class="rte">{{ block.settings.text }}</div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

  </div>
</div>


{% schema %}
  {
    "name": "Split Timeline Section",
    "settings": [
      {
        "type": "textarea",
        "id": "intro",
        "label": "Left column description",
        "default": "Explore our timeline to see how we have evolved and made a positive impact on wellness."
      }
    ],
    "blocks": [
      {
        "type": "inline_word",
        "name": "Inline heading word",
        "settings": [
          {
            "type": "text",
            "id": "text",
            "label": "Word or phrase"
          }, {
            "type": "color",
            "id": "color",
            "label": "Color",
            "default": "#5a8f3e"
          }
        ]
      }, {
        "type": "milestone",
        "name": "Timeline item",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Title"
          }, {
            "type": "richtext",
            "id": "text",
            "label": "Description"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Split Timeline Section",
        "category": "Custom"
      }
    ]
  }
{% endschema %}